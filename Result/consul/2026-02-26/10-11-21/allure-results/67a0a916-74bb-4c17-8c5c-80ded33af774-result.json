{"name": "Check Scale Down Master", "status": "passed", "statusDetails": {}, "description": "\n  Check election new master", "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "e036df02-b0b1-45e6-957d-aca51a4c2273-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_NODE_QTY"}, {"name": "arg2", "value": "default=1"}], "start": 1772100729833, "stop": 1772100729834}, {"name": "BuiltIn.Convert To Integer", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "7aeab1b8-3e4d-467d-8c92-af24774e0676-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pg_node_qty}"}], "start": 1772100729836, "stop": 1772100729838}, {"name": "BuiltIn.Pass Execution If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "'${pg_node_qty}'<'2'"}, {"name": "arg2", "value": "Log To Console skip test because pg_node_qty ${pg_node_qty}"}], "start": 1772100729839, "stop": 1772100729840}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Run pretest tests"}], "start": 1772100729843, "stop": 1772100729844}, {"name": "BuiltIn.Run Keyword", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Checks Before Tests", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Check master exists", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\\n---== Check master exists ==---"}], "start": 1772100729913, "stop": 1772100729916}, {"name": "pgsLibrary.Get Pod", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "0f72b99b-1660-4d3e-abdc-537836e2bfad-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgtype:master"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100729916, "stop": 1772100730115}, {"name": "BuiltIn.Should Not Be Empty", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "2c0d78db-4f5f-48dd-9163-801db4adfb0c-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTER.metadata.name}"}], "start": 1772100730115, "stop": 1772100730116}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Master pod: \"${MASTER.metadata.name}\""}], "start": 1772100730116, "stop": 1772100730123}], "start": 1772100729912, "stop": 1772100730123}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "e6f01def-5518-44ca-a731-f545f4560017-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100730123, "stop": 1772100730124}, {"name": "lib.Check Replica Count", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "4b284436-a237-4aaa-bae3-885dbf79f57c-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_NODE_QTY"}, {"name": "arg2", "value": "default=1"}], "start": 1772100730124, "stop": 1772100730125}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "9a4bdfbf-3806-43c3-9e9c-de880b35f076-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100730125, "stop": 1772100730126}, {"name": "BuiltIn.Convert To Integer", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "b78fad5d-8f00-4aeb-bab1-e79a1650ae33-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pg_node_qty}"}], "start": 1772100730126, "stop": 1772100730127}, {"name": "pgsLibrary.Get Pods", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "5780f429-310b-4e35-9e5f-844b6f279a6f-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgcluster:${pg_cluster_name}"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100730127, "stop": 1772100730334}, {"name": "BuiltIn.Get Length", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "e4648d41-3c9b-49ed-a3ac-4449646d3220-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pods}"}], "start": 1772100730334, "stop": 1772100730335}, {"name": "BuiltIn.Should Be Equal", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${count}"}, {"name": "arg2", "value": "${pg_node_qty}"}], "start": 1772100730336, "stop": 1772100730336}], "start": 1772100730124, "stop": 1772100730336}, {"name": "lib.Replication Works", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "-== Check if replication works ==-"}], "start": 1772100730337, "stop": 1772100730337}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "f2590a83-b263-43cf-9ec5-a97b4dae94c7-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100730338, "stop": 1772100730338}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "d3718ff4-3ef1-4ec9-a9f8-8a0219fb1693-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100730338, "stop": 1772100730339}, {"name": "lib.Insert Test Record", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "bc2b9b5d-aaf1-4d47-a31c-8e0354bafd21-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100730340, "stop": 1772100730340}, {"name": "String.Generate Random String", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "84f87613-a1fa-49dd-a3b4-1d082b0a8a83-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "32"}], "start": 1772100730412, "stop": 1772100730413}, {"name": "BuiltIn.Evaluate", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "f1a5ef83-7270-49d2-910d-e29313dc85d5-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "1000 * int(time.time()) + random.randint(1,9999)"}, {"name": "arg2", "value": "random,time"}], "start": 1772100730413, "stop": 1772100730414}, {"name": "BuiltIn.Set Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "68a7fb70-bb2b-4c1e-9f65-80179d6a814d-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${RID}, '${RSTRING}'"}], "start": 1772100730414, "stop": 1772100730415}, {"name": "BuiltIn.Log", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "4d7d6b2a-cb2d-4296-b0fc-5ad643baabda-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "random values ${RID} ${RSTRING}"}], "start": 1772100730415, "stop": 1772100730415}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "5a3160be-a2a8-4e9b-9ee5-3df2437b6a9d-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "create table IF NOT EXISTS test_insert_robot (id bigint primary key not null, value text not null)"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100730415, "stop": 1772100730427}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "f96bc004-e335-402d-9d81-25775df6a39d-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "insert into test_insert_robot values (${RID}, '${RSTRING}')"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100730428, "stop": 1772100730433}, {"name": "BuiltIn.Run Keyword If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${res} != None"}, {"name": "arg2", "value": "Fail"}, {"name": "arg3", "value": "msg=[insert test record] error in insert : ${res}"}], "start": 1772100730434, "stop": 1772100730434}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "c27f5d69-3377-4787-894a-6b88da5a0586-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100730434, "stop": 1772100730439}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${EXPECTED}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=[insert test record] Expected string ${EXPECTED} not found on ${MASTERHOST} : res: ${res}"}], "start": 1772100730439, "stop": 1772100730440}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test records found on ${MASTERHOST}"}], "start": 1772100730440, "stop": 1772100730441}, {"status": "passed", "statusDetails": {}, "start": 1772100730441, "stop": 1772100730441}], "attachments": [{"name": "Keyword Log", "source": "d3af4765-2431-4f6d-acd9-ae8f623b44ff-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTER}"}], "start": 1772100730339, "stop": 1772100730442}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Insterted test recordes with ID=${RID} (${EXPECTED})"}], "start": 1772100730442, "stop": 1772100730512}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "search test recordes on replicas"}], "start": 1772100730512, "stop": 1772100730512}, {"name": "pgsLibrary.Get Pods Names Ip", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "532f6713-96d5-405f-ab17-472b5fd842ce-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgcluster:${pg_cluster_name}"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100730513, "stop": 1772100730547}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Pods and ip &{REPLICAS}"}], "start": 1772100730547, "stop": 1772100730612}, {"name": "${key}    IN    @{REPLICAS.keys()}", "status": "passed", "statusDetails": {}, "steps": [{"name": "${key} = pg-patroni-node1-0", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Finding test records in ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100730613, "stop": 1772100730613}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Wait Query", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Wait ${expected} in ${pod_name}"}], "start": 1772100730614, "stop": 1772100730615}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "f52af073-06c8-4214-ba12-5f4c9ba8bdba-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pod_ip}"}, {"name": "arg2", "value": "${query}"}], "start": 1772100730615, "stop": 1772100730626}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${expected}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=Expected string not found in pod ${pod_name} IP:${pod_ip} output: ${res}"}], "start": 1772100730626, "stop": 1772100730627}], "parameters": [{"name": "arg1", "value": "${key}"}, {"name": "arg2", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg3", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg4", "value": "${EXPECTED}"}], "start": 1772100730614, "stop": 1772100730627}], "parameters": [{"name": "arg1", "value": "${120}"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "wait query"}, {"name": "arg4", "value": "${key}"}, {"name": "arg5", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg6", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg7", "value": "${EXPECTED}"}], "start": 1772100730613, "stop": 1772100730627}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test record found on ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100730627, "stop": 1772100730628}], "start": 1772100730612, "stop": 1772100730629}, {"name": "${key} = pg-patroni-node2-0", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Finding test records in ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100730629, "stop": 1772100730629}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Wait Query", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Wait ${expected} in ${pod_name}"}], "start": 1772100730631, "stop": 1772100730631}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "56a1675c-2234-41e1-964d-2331088e2c79-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pod_ip}"}, {"name": "arg2", "value": "${query}"}], "start": 1772100730631, "stop": 1772100730638}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${expected}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=Expected string not found in pod ${pod_name} IP:${pod_ip} output: ${res}"}], "start": 1772100730638, "stop": 1772100730639}], "parameters": [{"name": "arg1", "value": "${key}"}, {"name": "arg2", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg3", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg4", "value": "${EXPECTED}"}], "start": 1772100730630, "stop": 1772100730639}], "parameters": [{"name": "arg1", "value": "${120}"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "wait query"}, {"name": "arg4", "value": "${key}"}, {"name": "arg5", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg6", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg7", "value": "${EXPECTED}"}], "start": 1772100730630, "stop": 1772100730639}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test record found on ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100730639, "stop": 1772100730640}], "start": 1772100730629, "stop": 1772100730640}], "start": 1772100730612, "stop": 1772100730641}], "start": 1772100730337, "stop": 1772100730641}], "start": 1772100729847, "stop": 1772100730641}], "parameters": [{"name": "arg1", "value": "Checks before tests"}], "start": 1772100729845, "stop": 1772100730642}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "--== check scale down master ==--"}], "start": 1772100730642, "stop": 1772100730642}, {"name": "pgsLibrary.Get Master Pod", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "5575bf9b-9bf4-4064-afe7-b2e447aaf4ee-attachment.html", "type": "text/html"}], "start": 1772100730642, "stop": 1772100730841}, {"name": "BuiltIn.Set Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "be0ac081-632f-442d-8fff-b6e85c8b1758-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTER.metadata.name}"}], "start": 1772100730842, "stop": 1772100730845}, {"name": "BuiltIn.Evaluate", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "9481d6e9-784d-47ab-866a-1559d53ce7eb-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "\"${MASTER_POD_NAME}\".rsplit(\"-\", 1)[0]"}], "start": 1772100730845, "stop": 1772100730846}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Master : ${MASTER_STATEFULSET_NAME} -> ${MASTER_POD_NAME}"}], "start": 1772100730846, "stop": 1772100730847}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Insert test record into master ${MASTER_POD_NAME}"}], "start": 1772100730847, "stop": 1772100730848}, {"name": "lib.Insert Test Record", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "8ce69eeb-46cd-41c2-881d-8d405574d51f-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100730850, "stop": 1772100730923}, {"name": "String.Generate Random String", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "ac23b0ea-98bf-4f51-8fc7-ed20746783bb-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "32"}], "start": 1772100730923, "stop": 1772100730924}, {"name": "BuiltIn.Evaluate", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "908c4e4e-75f4-402b-b208-3b25b31fdc5f-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "1000 * int(time.time()) + random.randint(1,9999)"}, {"name": "arg2", "value": "random,time"}], "start": 1772100730924, "stop": 1772100730926}, {"name": "BuiltIn.Set Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "33dad1bc-476f-459f-8b7c-5b799dfcd51e-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${RID}, '${RSTRING}'"}], "start": 1772100730926, "stop": 1772100730927}, {"name": "BuiltIn.Log", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "5dd0373a-ec10-4ba6-bf01-038bb25dacb6-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "random values ${RID} ${RSTRING}"}], "start": 1772100730927, "stop": 1772100730929}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "f68b199b-30af-45bd-9e6c-e5a418b43187-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "create table IF NOT EXISTS test_insert_robot (id bigint primary key not null, value text not null)"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100730930, "stop": 1772100730940}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "0d25df2e-2e67-4c70-bfbe-d943c4f3d6b4-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "insert into test_insert_robot values (${RID}, '${RSTRING}')"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100730940, "stop": 1772100730950}, {"name": "BuiltIn.Run Keyword If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${res} != None"}, {"name": "arg2", "value": "Fail"}, {"name": "arg3", "value": "msg=[insert test record] error in insert : ${res}"}], "start": 1772100730950, "stop": 1772100730951}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "921916ce-8159-4ae8-8e55-365724f9a20c-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100730952, "stop": 1772100730959}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${EXPECTED}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=[insert test record] Expected string ${EXPECTED} not found on ${MASTERHOST} : res: ${res}"}], "start": 1772100730959, "stop": 1772100730959}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test records found on ${MASTERHOST}"}], "start": 1772100730960, "stop": 1772100730960}, {"status": "passed", "statusDetails": {}, "start": 1772100730960, "stop": 1772100730961}], "attachments": [{"name": "Keyword Log", "source": "a1f730d1-46e2-470b-bcf0-9baf9d70fe57-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTER_POD_NAME}"}], "start": 1772100730849, "stop": 1772100730961}, {"name": "BuiltIn.Sleep", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "869ff2ba-add8-494b-857e-2b4df7e10a05-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "10"}], "start": 1772100730961, "stop": 1772100740962}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "check test data on all replicas"}], "start": 1772100740963, "stop": 1772100740963}, {"name": "pgsLibrary.Get Pods", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "a115493b-3b33-48ec-8de5-885028dd7214-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgtype:replica"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100740963, "stop": 1772100741035}, {"name": "${REPLICA}    IN    @{REPLICAS}", "status": "passed", "statusDetails": {}, "steps": [{"name": "${REPLICA} = {'api_version': None,\n 'kind': None,\n 'metadata': {'annotations': {'argocd.argoproj.io/ignore-resource-updates': 'true',\n                              'checksum/secret0': 'e0b31eb6598284c4a980aeab9dbc...", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Check test data on ${REPLICA.metadata.name} pod"}], "start": 1772100741048, "stop": 1772100741049}, {"name": "lib.Check Test Record", "status": "passed", "statusDetails": {}, "steps": [{"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "6106ced5-a7bd-4872-8a07-1a08d6c9a1db-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pod_name}"}, {"name": "arg2", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100741050, "stop": 1772100741056}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${EXPECTED}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=[insert test record] Expected string ${EXPECTED} not found after restore database: ${database}. res: ${res}"}], "start": 1772100741056, "stop": 1772100741056}], "parameters": [{"name": "arg1", "value": "${REPLICA.status.pod_ip}"}, {"name": "arg2", "value": "${RID}"}, {"name": "arg3", "value": "${EXPECTED}"}], "start": 1772100741049, "stop": 1772100741057}], "start": 1772100741048, "stop": 1772100741057}], "start": 1772100741035, "stop": 1772100741057}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Scale Down Master Statefulset ${MASTER_STATEFULSET_NAME}"}], "start": 1772100741057, "stop": 1772100741058}, {"name": "pgsLibrary.Scale Down Stateful Set", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${MASTER_STATEFULSET_NAME}"}], "start": 1772100741058, "stop": 1772100741148}, {"name": "BuiltIn.Sleep", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "17d21559-774c-4516-8423-65fd6692740f-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "10"}], "start": 1772100741148, "stop": 1772100751149}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "Check Master Reelection", "status": "passed", "statusDetails": {}, "steps": [{"name": "pgsLibrary.Get Master Pod Id", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "1d35a526-f419-4433-9119-bf46e9cd8611-attachment.html", "type": "text/html"}], "start": 1772100751151, "stop": 1772100751180}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "'${new_master}' != '${None}'"}], "start": 1772100751180, "stop": 1772100751181}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "'${new_master}' != '${MASTER_POD_NAME}'"}], "start": 1772100751181, "stop": 1772100751181}, {"status": "passed", "statusDetails": {}, "start": 1772100751181, "stop": 1772100751182}], "parameters": [{"name": "arg1", "value": "${MASTER_POD_NAME}"}], "start": 1772100751150, "stop": 1772100751182}], "parameters": [{"name": "arg1", "value": "120 sec"}, {"name": "arg2", "value": "2 sec"}, {"name": "arg3", "value": "Check Master Reelection"}, {"name": "arg4", "value": "${MASTER_POD_NAME}"}], "start": 1772100751149, "stop": 1772100751182}, {"name": "pgsLibrary.Get Master Pod Id", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "220d6269-d324-4f98-b38e-bf253373c886-attachment.html", "type": "text/html"}], "start": 1772100751182, "stop": 1772100751244}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "New master '${new_master}' elected successeful"}], "start": 1772100751244, "stop": 1772100751244}, {"name": "BuiltIn.Run Keyword If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "'${new_master}' == '${MASTER_POD_NAME}'"}, {"name": "arg2", "value": "fail"}, {"name": "arg3", "value": "msg=New master not selected: old:[${MASTER_POD_NAME}] now: ${new_master}"}], "start": 1772100751245, "stop": 1772100751245}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Check statefulset config"}], "start": 1772100751245, "stop": 1772100751246}, {"name": "pgsLibrary.Get Master Pod", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "8ffee53b-c22e-4b3b-9ae5-08cdd5f927d8-attachment.html", "type": "text/html"}], "start": 1772100751246, "stop": 1772100751444}, {"name": "BuiltIn.Set Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "3dbae06b-2681-4732-803a-1d348dc70db2-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${NEW_MASTER.metadata.name}"}], "start": 1772100751445, "stop": 1772100751446}, {"name": "BuiltIn.Evaluate", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "b5cdaa83-fac1-4775-87c5-71d5950e384a-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "\"${NEW_MASTER_POD_NAME}\".rsplit(\"-\", 1)[0]"}], "start": 1772100751446, "stop": 1772100751447}, {"name": "BuiltIn.Run Keyword If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "'${NEW_MASTER_POD_NAME}' == '${MASTER_STATEFULSET_NAME}'"}, {"name": "arg2", "value": "Fail"}, {"name": "arg3", "value": "msg=Unexpected statefulsetconfig name"}], "start": 1772100751447, "stop": 1772100751447}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Check Test Record On New Master"}], "start": 1772100751448, "stop": 1772100751523}, {"name": "lib.Check Test Record", "status": "passed", "statusDetails": {}, "steps": [{"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "6fa73f7e-d9f9-4592-b77d-743fe5f4018c-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pod_name}"}, {"name": "arg2", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100751524, "stop": 1772100751531}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${EXPECTED}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=[insert test record] Expected string ${EXPECTED} not found after restore database: ${database}. res: ${res}"}], "start": 1772100751531, "stop": 1772100751532}], "parameters": [{"name": "arg1", "value": "${NEW_MASTER.status.pod_ip}"}, {"name": "arg2", "value": "${RID}"}, {"name": "arg3", "value": "${EXPECTED}"}], "start": 1772100751523, "stop": 1772100751532}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Insert Test Record Into New Master [${NEW_MASTER_POD_NAME}]"}], "start": 1772100751532, "stop": 1772100751533}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Insert Test Record", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "d6f2adf1-492e-444d-86c0-946e4bc0dcd9-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100751534, "stop": 1772100751534}, {"name": "String.Generate Random String", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "02787e88-e26f-4bb3-9a12-7a77b775dd4f-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "32"}], "start": 1772100751535, "stop": 1772100751535}, {"name": "BuiltIn.Evaluate", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "7a21d01e-27f4-4022-ac1f-43ceefcba8a1-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "1000 * int(time.time()) + random.randint(1,9999)"}, {"name": "arg2", "value": "random,time"}], "start": 1772100751535, "stop": 1772100751536}, {"name": "BuiltIn.Set Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "98af8d37-d7ef-441c-bc1d-f47bee609a5d-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${RID}, '${RSTRING}'"}], "start": 1772100751537, "stop": 1772100751539}, {"name": "BuiltIn.Log", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "e6ec5ce2-c8ca-40cf-8e6e-ad95ae7d8e30-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "random values ${RID} ${RSTRING}"}], "start": 1772100751539, "stop": 1772100751540}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "adf0689a-62e8-48a5-993f-18ad9e015138-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "create table IF NOT EXISTS test_insert_robot (id bigint primary key not null, value text not null)"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100751540, "stop": 1772100751547}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "78a457db-ed6a-4215-a0bd-386a5ed3f699-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "insert into test_insert_robot values (${RID}, '${RSTRING}')"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100751547, "stop": 1772100751629}, {"name": "BuiltIn.Run Keyword If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${res} != None"}, {"name": "arg2", "value": "Fail"}, {"name": "arg3", "value": "msg=[insert test record] error in insert : ${res}"}], "start": 1772100751629, "stop": 1772100751630}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "07863acd-c8fc-4060-a4d6-d3e077659526-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100751630, "stop": 1772100751636}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${EXPECTED}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=[insert test record] Expected string ${EXPECTED} not found on ${MASTERHOST} : res: ${res}"}], "start": 1772100751637, "stop": 1772100751637}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test records found on ${MASTERHOST}"}], "start": 1772100751637, "stop": 1772100751638}, {"status": "passed", "statusDetails": {}, "start": 1772100751638, "stop": 1772100751638}], "parameters": [{"name": "arg1", "value": "${NEW_MASTER.status.pod_ip}"}], "start": 1772100751533, "stop": 1772100751638}], "parameters": [{"name": "arg1", "value": "60 sec"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "Insert Test Record"}, {"name": "arg4", "value": "${NEW_MASTER.status.pod_ip}"}], "start": 1772100751533, "stop": 1772100751638}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Scale Up Old Master Pod Stateful Set ${MASTER_STATEFULSET_NAME}"}], "start": 1772100751639, "stop": 1772100751639}, {"name": "pgsLibrary.Scale Up Stateful Set", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${MASTER_STATEFULSET_NAME}"}], "start": 1772100751639, "stop": 1772100751670}, {"name": "BuiltIn.Sleep", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "64a94686-d764-47db-9a2c-6b0e7e178a8c-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "20s"}], "start": 1772100751670, "stop": 1772100771671}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Check Replica Count", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "1c8c6435-f94d-40cd-884f-bf6c0133ce75-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_NODE_QTY"}, {"name": "arg2", "value": "default=1"}], "start": 1772100771673, "stop": 1772100771673}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "a1ac493d-1534-4405-bf19-11d9a83ba041-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100771674, "stop": 1772100771674}, {"name": "BuiltIn.Convert To Integer", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "b7979ddd-c309-4154-a9a7-1ec0e596e326-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pg_node_qty}"}], "start": 1772100771674, "stop": 1772100771675}, {"name": "pgsLibrary.Get Pods", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "ff3fcc85-e9dc-4fd3-8a1d-0d14c757f4bc-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgcluster:${pg_cluster_name}"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100771675, "stop": 1772100771749}, {"name": "BuiltIn.Get Length", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "bbc3a161-ca0f-4995-9188-66a18ef10d24-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pods}"}], "start": 1772100771750, "stop": 1772100771750}, {"name": "BuiltIn.Should Be Equal", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${count}"}, {"name": "arg2", "value": "${pg_node_qty}"}], "start": 1772100771750, "stop": 1772100771823}], "start": 1772100771672, "stop": 1772100771823}], "parameters": [{"name": "arg1", "value": "120 sec"}, {"name": "arg2", "value": "3 sec"}, {"name": "arg3", "value": "Check replica count"}], "start": 1772100771672, "stop": 1772100771823}, {"name": "BuiltIn.Run Keyword", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Replication Works", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "-== Check if replication works ==-"}], "start": 1772100771825, "stop": 1772100771825}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "f5832ee1-4446-47e7-8544-72e8ab5c90db-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100771825, "stop": 1772100771825}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "fdf87828-ce99-44aa-b44e-c7963c88f52f-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100771826, "stop": 1772100771826}, {"name": "lib.Insert Test Record", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "016b2482-7a0f-47e1-b5d3-a492c88f93c5-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100771827, "stop": 1772100771828}, {"name": "String.Generate Random String", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "71a07821-b0e6-4286-9b00-658ada14fc2b-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "32"}], "start": 1772100771828, "stop": 1772100771829}, {"name": "BuiltIn.Evaluate", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "863b0878-5182-4ca3-9765-5a1ef2951362-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "1000 * int(time.time()) + random.randint(1,9999)"}, {"name": "arg2", "value": "random,time"}], "start": 1772100771829, "stop": 1772100771830}, {"name": "BuiltIn.Set Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "b576a8e8-5229-45d4-82fe-467e1b86d03a-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${RID}, '${RSTRING}'"}], "start": 1772100771830, "stop": 1772100771831}, {"name": "BuiltIn.Log", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "1a3e09e8-460b-4064-bbbd-c7775b901925-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "random values ${RID} ${RSTRING}"}], "start": 1772100771831, "stop": 1772100771832}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "87d599da-b3c7-45f4-8914-3acf20640773-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "create table IF NOT EXISTS test_insert_robot (id bigint primary key not null, value text not null)"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100771832, "stop": 1772100771839}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "bb3433b1-4d8f-4cba-b5f5-40d6df8834eb-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "insert into test_insert_robot values (${RID}, '${RSTRING}')"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100771840, "stop": 1772100771930}, {"name": "BuiltIn.Run Keyword If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${res} != None"}, {"name": "arg2", "value": "Fail"}, {"name": "arg3", "value": "msg=[insert test record] error in insert : ${res}"}], "start": 1772100771930, "stop": 1772100771931}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "ffb107a9-f787-4ef7-b522-d8012e10926d-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100771931, "stop": 1772100771938}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${EXPECTED}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=[insert test record] Expected string ${EXPECTED} not found on ${MASTERHOST} : res: ${res}"}], "start": 1772100771938, "stop": 1772100771939}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test records found on ${MASTERHOST}"}], "start": 1772100771939, "stop": 1772100771940}, {"status": "passed", "statusDetails": {}, "start": 1772100771940, "stop": 1772100771940}], "attachments": [{"name": "Keyword Log", "source": "286960b1-42de-4540-8e9f-10cf032a8e27-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTER}"}], "start": 1772100771827, "stop": 1772100771941}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Insterted test recordes with ID=${RID} (${EXPECTED})"}], "start": 1772100771941, "stop": 1772100771942}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "search test recordes on replicas"}], "start": 1772100771942, "stop": 1772100771942}, {"name": "pgsLibrary.Get Pods Names Ip", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "51e33182-87ac-4317-899e-4021725eeda3-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgcluster:${pg_cluster_name}"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100771942, "stop": 1772100772035}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Pods and ip &{REPLICAS}"}], "start": 1772100772035, "stop": 1772100772036}, {"name": "${key}    IN    @{REPLICAS.keys()}", "status": "passed", "statusDetails": {}, "steps": [{"name": "${key} = pg-patroni-node1-0", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Finding test records in ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100772037, "stop": 1772100772038}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Wait Query", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Wait ${expected} in ${pod_name}"}], "start": 1772100772040, "stop": 1772100772040}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "bb7ca4c2-f488-48fd-9a59-39c0a993dda7-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pod_ip}"}, {"name": "arg2", "value": "${query}"}], "start": 1772100772041, "stop": 1772100772050}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${expected}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=Expected string not found in pod ${pod_name} IP:${pod_ip} output: ${res}"}], "start": 1772100772050, "stop": 1772100772051}], "parameters": [{"name": "arg1", "value": "${key}"}, {"name": "arg2", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg3", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg4", "value": "${EXPECTED}"}], "start": 1772100772039, "stop": 1772100772051}], "parameters": [{"name": "arg1", "value": "${120}"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "wait query"}, {"name": "arg4", "value": "${key}"}, {"name": "arg5", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg6", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg7", "value": "${EXPECTED}"}], "start": 1772100772038, "stop": 1772100772051}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test record found on ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100772052, "stop": 1772100772052}], "start": 1772100772037, "stop": 1772100772052}, {"name": "${key} = pg-patroni-node2-0", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Finding test records in ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100772053, "stop": 1772100772053}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Wait Query", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Wait ${expected} in ${pod_name}"}], "start": 1772100772055, "stop": 1772100772055}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "0ccbd192-da6a-4e8e-a6d9-7c911f7f1eee-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pod_ip}"}, {"name": "arg2", "value": "${query}"}], "start": 1772100772055, "stop": 1772100772128}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${expected}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=Expected string not found in pod ${pod_name} IP:${pod_ip} output: ${res}"}], "start": 1772100772128, "stop": 1772100772129}], "parameters": [{"name": "arg1", "value": "${key}"}, {"name": "arg2", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg3", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg4", "value": "${EXPECTED}"}], "start": 1772100772054, "stop": 1772100772129}], "parameters": [{"name": "arg1", "value": "${120}"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "wait query"}, {"name": "arg4", "value": "${key}"}, {"name": "arg5", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg6", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg7", "value": "${EXPECTED}"}], "start": 1772100772054, "stop": 1772100772129}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test record found on ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100772129, "stop": 1772100772130}], "start": 1772100772052, "stop": 1772100772130}], "start": 1772100772036, "stop": 1772100772130}], "start": 1772100771824, "stop": 1772100772131}], "parameters": [{"name": "arg1", "value": "Replication Works"}], "start": 1772100771824, "stop": 1772100772131}, {"name": "BuiltIn.Sleep", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "68312415-e763-4ec8-a576-a0861185790f-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "20s"}], "start": 1772100772131, "stop": 1772100792132}], "start": 1772100729833, "stop": 1772100792132, "uuid": "0707fd9e-9cb4-4d37-8023-88fe30b09869", "historyId": "4fa03a0713ed64e169d55f1cac738b59", "fullName": "Tests.Check Scale Down Master.Check Scale Down Master.Check Scale Down Master", "labels": [{"name": "parentSuite", "value": "Tests"}, {"name": "suite", "value": "Check Scale Down Master"}, {"name": "subSuite", "value": "Check Scale Down Master"}, {"name": "framework", "value": "robotframework"}, {"name": "language", "value": "cpython3"}, {"name": "host", "value": "integration-robot-tests"}, {"name": "thread", "value": "default-f59f37f7-e895-4e1a-a7e0-ed640c05c73c"}, {"name": "tag", "value": "check_scale_down_master"}, {"name": "tag", "value": "patroni full"}], "titlePath": ["Tests", "Check Scale Down Master", "Check Scale Down Master"]}