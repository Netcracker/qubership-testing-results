{"name": "Check Delete Master", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Run Keyword", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Checks Before Tests", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Check master exists", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\\n---== Check master exists ==---"}], "start": 1772100685827, "stop": 1772100685827}, {"name": "pgsLibrary.Get Pod", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "aa7d1751-9ef4-4c62-bcd9-628a9f0792e3-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgtype:master"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100685828, "stop": 1772100686028}, {"name": "BuiltIn.Should Not Be Empty", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "10b48b26-7c33-41f5-9d9e-bd3d9b91427b-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTER.metadata.name}"}], "start": 1772100686029, "stop": 1772100686030}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Master pod: \"${MASTER.metadata.name}\""}], "start": 1772100686030, "stop": 1772100686031}], "start": 1772100685826, "stop": 1772100686031}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "3903dbcd-fa6e-4171-9ccb-5abd3c2c95d2-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100686031, "stop": 1772100686032}, {"name": "lib.Check Replica Count", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "fcac846c-1a33-4a07-bf59-1c7eea10ae37-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_NODE_QTY"}, {"name": "arg2", "value": "default=1"}], "start": 1772100686033, "stop": 1772100686033}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "da15ef20-51c3-446c-a935-fd17b0b03f48-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100686034, "stop": 1772100686034}, {"name": "BuiltIn.Convert To Integer", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "afee9b34-7eea-404b-96b5-6c6c6306c28b-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pg_node_qty}"}], "start": 1772100686035, "stop": 1772100686035}, {"name": "pgsLibrary.Get Pods", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "3aaae45d-911f-476c-a003-073ad8d61fcb-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgcluster:${pg_cluster_name}"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100686035, "stop": 1772100686248}, {"name": "BuiltIn.Get Length", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "5a1fabff-7486-430e-8173-18759defd27c-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pods}"}], "start": 1772100686248, "stop": 1772100686249}, {"name": "BuiltIn.Should Be Equal", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${count}"}, {"name": "arg2", "value": "${pg_node_qty}"}], "start": 1772100686249, "stop": 1772100686250}], "start": 1772100686032, "stop": 1772100686250}, {"name": "lib.Replication Works", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "-== Check if replication works ==-"}], "start": 1772100686312, "stop": 1772100686323}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "dbe1b693-87bf-41a6-b5be-42d4617632be-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100686323, "stop": 1772100686324}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "786d5e4a-7324-4359-850a-388803a98865-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100686324, "stop": 1772100686325}, {"name": "lib.Insert Test Record", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "5d9ef09d-0849-49e6-b7a1-c21aee1abcc8-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100686326, "stop": 1772100686326}, {"name": "String.Generate Random String", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "a0e6d71c-5e73-4457-afe0-b27e77c25bcb-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "32"}], "start": 1772100686327, "stop": 1772100686327}, {"name": "BuiltIn.Evaluate", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "6ee0a6ff-64d0-4757-ab98-7f9bcbcbd7a0-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "1000 * int(time.time()) + random.randint(1,9999)"}, {"name": "arg2", "value": "random,time"}], "start": 1772100686328, "stop": 1772100686328}, {"name": "BuiltIn.Set Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "a29ed3c4-464b-448b-bab5-f858e9cecf49-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${RID}, '${RSTRING}'"}], "start": 1772100686329, "stop": 1772100686329}, {"name": "BuiltIn.Log", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "da830095-054d-4d6c-80d4-85f6b46753ed-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "random values ${RID} ${RSTRING}"}], "start": 1772100686330, "stop": 1772100686330}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "8a9cba49-2302-420a-8673-90d970d68874-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "create table IF NOT EXISTS test_insert_robot (id bigint primary key not null, value text not null)"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100686330, "stop": 1772100686336}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "1849abea-a289-44fb-bfc2-f52d80968fcb-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "insert into test_insert_robot values (${RID}, '${RSTRING}')"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100686336, "stop": 1772100686341}, {"name": "BuiltIn.Run Keyword If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${res} != None"}, {"name": "arg2", "value": "Fail"}, {"name": "arg3", "value": "msg=[insert test record] error in insert : ${res}"}], "start": 1772100686341, "stop": 1772100686342}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "bb6874e4-1d56-4cb9-9226-25b560031f01-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100686342, "stop": 1772100686427}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${EXPECTED}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=[insert test record] Expected string ${EXPECTED} not found on ${MASTERHOST} : res: ${res}"}], "start": 1772100686427, "stop": 1772100686428}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test records found on ${MASTERHOST}"}], "start": 1772100686428, "stop": 1772100686428}, {"status": "passed", "statusDetails": {}, "start": 1772100686429, "stop": 1772100686429}], "attachments": [{"name": "Keyword Log", "source": "af9660ee-7623-44bb-8a6d-28460d3784fb-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTER}"}], "start": 1772100686325, "stop": 1772100686430}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Insterted test recordes with ID=${RID} (${EXPECTED})"}], "start": 1772100686430, "stop": 1772100686430}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "search test recordes on replicas"}], "start": 1772100686431, "stop": 1772100686431}, {"name": "pgsLibrary.Get Pods Names Ip", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "24a3512a-d737-4926-a222-09dd332ff908-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgcluster:${pg_cluster_name}"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100686431, "stop": 1772100686525}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Pods and ip &{REPLICAS}"}], "start": 1772100686525, "stop": 1772100686526}, {"name": "${key}    IN    @{REPLICAS.keys()}", "status": "passed", "statusDetails": {}, "steps": [{"name": "${key} = pg-patroni-node1-0", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Finding test records in ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100686527, "stop": 1772100686528}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Wait Query", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Wait ${expected} in ${pod_name}"}], "start": 1772100686529, "stop": 1772100686529}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "2c3bf829-bb35-4e37-84f4-6913f13c4c6a-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pod_ip}"}, {"name": "arg2", "value": "${query}"}], "start": 1772100686529, "stop": 1772100686533}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${expected}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=Expected string not found in pod ${pod_name} IP:${pod_ip} output: ${res}"}], "start": 1772100686534, "stop": 1772100686534}], "parameters": [{"name": "arg1", "value": "${key}"}, {"name": "arg2", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg3", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg4", "value": "${EXPECTED}"}], "start": 1772100686528, "stop": 1772100686535}], "parameters": [{"name": "arg1", "value": "${120}"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "wait query"}, {"name": "arg4", "value": "${key}"}, {"name": "arg5", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg6", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg7", "value": "${EXPECTED}"}], "start": 1772100686528, "stop": 1772100686535}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test record found on ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100686535, "stop": 1772100686536}], "start": 1772100686527, "stop": 1772100686536}, {"name": "${key} = pg-patroni-node2-0", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Finding test records in ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100686537, "stop": 1772100686537}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Wait Query", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Wait ${expected} in ${pod_name}"}], "start": 1772100686539, "stop": 1772100686539}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "c7aab9e8-f1dd-473b-895a-ac6ef0db1f29-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pod_ip}"}, {"name": "arg2", "value": "${query}"}], "start": 1772100686539, "stop": 1772100686546}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${expected}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=Expected string not found in pod ${pod_name} IP:${pod_ip} output: ${res}"}], "start": 1772100686546, "stop": 1772100686547}], "parameters": [{"name": "arg1", "value": "${key}"}, {"name": "arg2", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg3", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg4", "value": "${EXPECTED}"}], "start": 1772100686538, "stop": 1772100686547}], "parameters": [{"name": "arg1", "value": "${120}"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "wait query"}, {"name": "arg4", "value": "${key}"}, {"name": "arg5", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg6", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg7", "value": "${EXPECTED}"}], "start": 1772100686538, "stop": 1772100686548}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test record found on ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100686548, "stop": 1772100686549}], "start": 1772100686536, "stop": 1772100686549}], "start": 1772100686526, "stop": 1772100686549}], "start": 1772100686250, "stop": 1772100686550}], "start": 1772100685826, "stop": 1772100686550}], "parameters": [{"name": "arg1", "value": "Checks Before Tests"}], "start": 1772100685825, "stop": 1772100686550}, {"name": "pgsLibrary.Get Master Pod", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "34a66c1a-bf06-42fd-8363-b7a63442fdb9-attachment.html", "type": "text/html"}], "start": 1772100686550, "stop": 1772100686648}, {"name": "lib.Insert Test Record", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "acaa98a3-2ed2-4467-943b-912bd15b37ad-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100686650, "stop": 1772100686650}, {"name": "String.Generate Random String", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "89b2ac5c-3570-4ce5-a6d3-6bff7c47138a-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "32"}], "start": 1772100686650, "stop": 1772100686723}, {"name": "BuiltIn.Evaluate", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "f893c4b8-1a93-443b-8189-517473243f65-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "1000 * int(time.time()) + random.randint(1,9999)"}, {"name": "arg2", "value": "random,time"}], "start": 1772100686723, "stop": 1772100686724}, {"name": "BuiltIn.Set Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "13a96057-ca03-4bc5-ac7a-c5ea544e8824-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${RID}, '${RSTRING}'"}], "start": 1772100686724, "stop": 1772100686725}, {"name": "BuiltIn.Log", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "ddc9ae59-1071-4dd7-9feb-761357332f58-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "random values ${RID} ${RSTRING}"}], "start": 1772100686725, "stop": 1772100686726}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "77da13ff-d36f-4c30-8c96-a89560900d94-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "create table IF NOT EXISTS test_insert_robot (id bigint primary key not null, value text not null)"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100686726, "stop": 1772100686732}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "556ad116-7176-4568-8db1-dd263bc7c5fc-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "insert into test_insert_robot values (${RID}, '${RSTRING}')"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100686733, "stop": 1772100686738}, {"name": "BuiltIn.Run Keyword If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${res} != None"}, {"name": "arg2", "value": "Fail"}, {"name": "arg3", "value": "msg=[insert test record] error in insert : ${res}"}], "start": 1772100686738, "stop": 1772100686739}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "f09e5646-7e17-4411-83fe-4f2d266e0f79-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100686739, "stop": 1772100686743}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${EXPECTED}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=[insert test record] Expected string ${EXPECTED} not found on ${MASTERHOST} : res: ${res}"}], "start": 1772100686744, "stop": 1772100686744}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test records found on ${MASTERHOST}"}], "start": 1772100686744, "stop": 1772100686745}, {"status": "passed", "statusDetails": {}, "start": 1772100686745, "stop": 1772100686745}], "attachments": [{"name": "Keyword Log", "source": "4cec5fa5-7a85-4f3d-8c5d-901b74630cb7-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTER.status.pod_ip}"}], "start": 1772100686649, "stop": 1772100686746}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Deleting Master Pod \"${MASTER.metadata.name}\""}], "start": 1772100686746, "stop": 1772100686747}, {"name": "BuiltIn.Run Keyword", "status": "passed", "statusDetails": {}, "steps": [{"name": "pgsLibrary.Delete Pod", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${MASTER.metadata.name}"}, {"name": "arg2", "value": "30"}], "start": 1772100686747, "stop": 1772100686828}], "parameters": [{"name": "arg1", "value": "Delete Pod"}, {"name": "arg2", "value": "${MASTER.metadata.name}"}, {"name": "arg3", "value": "30"}], "start": 1772100686747, "stop": 1772100686828}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Wait new master election keyword"}], "start": 1772100686828, "stop": 1772100686829}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Check If New Master Elected", "status": "failed", "statusDetails": {"message": "New master not selected: old:[pg-patroni-node1-0] now: pg-patroni-node1-0"}, "steps": [{"name": "pgsLibrary.Get Master Pod Id", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "f0064ef1-3c7f-4a9f-9217-993beaa538dc-attachment.html", "type": "text/html"}], "start": 1772100686830, "stop": 1772100686925}, {"name": "BuiltIn.Run Keyword If", "status": "failed", "statusDetails": {"message": "New master not selected: old:[pg-patroni-node1-0] now: pg-patroni-node1-0"}, "steps": [{"name": "BuiltIn.Fail", "status": "failed", "statusDetails": {"message": "New master not selected: old:[pg-patroni-node1-0] now: pg-patroni-node1-0"}, "attachments": [{"name": "Keyword Log", "source": "af958343-459b-4180-81c7-98ba2a4ba493-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "msg=New master not selected: old:[${MASTER}] now: ${new_master}"}], "start": 1772100686926, "stop": 1772100686927}], "parameters": [{"name": "arg1", "value": "'${new_master}' == '${MASTER}'"}, {"name": "arg2", "value": "fail"}, {"name": "arg3", "value": "msg=New master not selected: old:[${MASTER}] now: ${new_master}"}], "start": 1772100686925, "stop": 1772100686927}, {"name": "BuiltIn.Log To Console", "status": "skipped", "statusDetails": {"message": "New master not selected: old:[pg-patroni-node1-0] now: pg-patroni-node1-0"}, "parameters": [{"name": "arg1", "value": "Found master ${new_master}"}], "start": 1772100686927, "stop": 1772100686928}], "parameters": [{"name": "arg1", "value": "${MASTER.metadata.name}"}], "start": 1772100686829, "stop": 1772100686928}, {"name": "lib.Check If New Master Elected", "status": "failed", "statusDetails": {"message": "New master not selected: old:[pg-patroni-node1-0] now: pg-patroni-node1-0"}, "steps": [{"name": "pgsLibrary.Get Master Pod Id", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "77228577-8074-4b8f-9d24-e8336408f02f-attachment.html", "type": "text/html"}], "start": 1772100687930, "stop": 1772100688028}, {"name": "BuiltIn.Run Keyword If", "status": "failed", "statusDetails": {"message": "New master not selected: old:[pg-patroni-node1-0] now: pg-patroni-node1-0"}, "steps": [{"name": "BuiltIn.Fail", "status": "failed", "statusDetails": {"message": "New master not selected: old:[pg-patroni-node1-0] now: pg-patroni-node1-0"}, "attachments": [{"name": "Keyword Log", "source": "05b07bf7-50e8-4d9d-a7b6-16479b192f15-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "msg=New master not selected: old:[${MASTER}] now: ${new_master}"}], "start": 1772100688029, "stop": 1772100688030}], "parameters": [{"name": "arg1", "value": "'${new_master}' == '${MASTER}'"}, {"name": "arg2", "value": "fail"}, {"name": "arg3", "value": "msg=New master not selected: old:[${MASTER}] now: ${new_master}"}], "start": 1772100688029, "stop": 1772100688030}, {"name": "BuiltIn.Log To Console", "status": "skipped", "statusDetails": {"message": "New master not selected: old:[pg-patroni-node1-0] now: pg-patroni-node1-0"}, "parameters": [{"name": "arg1", "value": "Found master ${new_master}"}], "start": 1772100688031, "stop": 1772100688031}], "parameters": [{"name": "arg1", "value": "${MASTER.metadata.name}"}], "start": 1772100687929, "stop": 1772100688031}, {"name": "lib.Check If New Master Elected", "status": "passed", "statusDetails": {}, "steps": [{"name": "pgsLibrary.Get Master Pod Id", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "2fc0b9c0-2177-45b6-a4b9-624d106b1d25-attachment.html", "type": "text/html"}], "start": 1772100689033, "stop": 1772100689124}, {"name": "BuiltIn.Run Keyword If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "'${new_master}' == '${MASTER}'"}, {"name": "arg2", "value": "fail"}, {"name": "arg3", "value": "msg=New master not selected: old:[${MASTER}] now: ${new_master}"}], "start": 1772100689125, "stop": 1772100689125}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Found master ${new_master}"}], "start": 1772100689126, "stop": 1772100689126}], "parameters": [{"name": "arg1", "value": "${MASTER.metadata.name}"}], "start": 1772100689032, "stop": 1772100689126}], "parameters": [{"name": "arg1", "value": "120 sec"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "Check If New Master Elected"}, {"name": "arg4", "value": "${MASTER.metadata.name}"}], "start": 1772100686829, "stop": 1772100689127}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Check Replica Count", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "b556735f-44c8-4ab5-8321-eacd9acd56ca-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_NODE_QTY"}, {"name": "arg2", "value": "default=1"}], "start": 1772100689127, "stop": 1772100689128}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "243b85e7-d019-4d3e-83bd-49791d40042c-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100689128, "stop": 1772100689129}, {"name": "BuiltIn.Convert To Integer", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "6e07d99d-5db6-490d-9397-2abced0a42bc-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pg_node_qty}"}], "start": 1772100689129, "stop": 1772100689130}, {"name": "pgsLibrary.Get Pods", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "f6d1f698-305b-469d-a1f6-4d6f7c465af8-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgcluster:${pg_cluster_name}"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100689130, "stop": 1772100689329}, {"name": "BuiltIn.Get Length", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "069fb07c-7fad-4ed7-992e-677b9c868f6d-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pods}"}], "start": 1772100689329, "stop": 1772100689330}, {"name": "BuiltIn.Should Be Equal", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${count}"}, {"name": "arg2", "value": "${pg_node_qty}"}], "start": 1772100689330, "stop": 1772100689330}], "start": 1772100689127, "stop": 1772100689331}], "parameters": [{"name": "arg1", "value": "120 sec"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "Check Replica Count"}], "start": 1772100689127, "stop": 1772100689331}, {"name": "pgsLibrary.Get Master Pod", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "d66250a7-d77c-4a4f-887e-85e2e4f4ca30-attachment.html", "type": "text/html"}], "start": 1772100689331, "stop": 1772100689437}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "New Master ${NEW_MASTER.metadata.name}"}], "start": 1772100689437, "stop": 1772100689438}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Wait Replica Pods In Up State", "status": "failed", "statusDetails": {"message": "False != True"}, "steps": [{"name": "pgsLibrary.Wait Replica Pods Scale Up", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "5a996df2-4f8c-4e96-959e-0b27da4ef55f-attachment.html", "type": "text/html"}], "start": 1772100689439, "stop": 1772100689623}, {"name": "BuiltIn.Should Be Equal", "status": "failed", "statusDetails": {"message": "False != True"}, "attachments": [{"name": "Keyword Log", "source": "4794f1bd-75cb-4082-ba31-9ba86af03125-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${replicas_status}"}, {"name": "arg2", "value": "${True}"}], "start": 1772100689623, "stop": 1772100689624}], "start": 1772100689439, "stop": 1772100689624}, {"name": "lib.Wait Replica Pods In Up State", "status": "failed", "statusDetails": {"message": "False != True"}, "steps": [{"name": "pgsLibrary.Wait Replica Pods Scale Up", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "fc318eac-4ee3-47d9-b5be-8e6c0166bff1-attachment.html", "type": "text/html"}], "start": 1772100691625, "stop": 1772100691724}, {"name": "BuiltIn.Should Be Equal", "status": "failed", "statusDetails": {"message": "False != True"}, "attachments": [{"name": "Keyword Log", "source": "5c8b0f09-0343-47a6-ba9a-7b5ca1981c55-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${replicas_status}"}, {"name": "arg2", "value": "${True}"}], "start": 1772100691725, "stop": 1772100691726}], "start": 1772100691625, "stop": 1772100691726}, {"name": "lib.Wait Replica Pods In Up State", "status": "failed", "statusDetails": {"message": "False != True"}, "steps": [{"name": "pgsLibrary.Wait Replica Pods Scale Up", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "daec6d4d-301d-480c-a715-0be440051c08-attachment.html", "type": "text/html"}], "start": 1772100693727, "stop": 1772100693758}, {"name": "BuiltIn.Should Be Equal", "status": "failed", "statusDetails": {"message": "False != True"}, "attachments": [{"name": "Keyword Log", "source": "beec91e4-a6e2-4679-af88-77f95d823584-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${replicas_status}"}, {"name": "arg2", "value": "${True}"}], "start": 1772100693759, "stop": 1772100693760}], "start": 1772100693726, "stop": 1772100693760}, {"name": "lib.Wait Replica Pods In Up State", "status": "failed", "statusDetails": {"message": "False != True"}, "steps": [{"name": "pgsLibrary.Wait Replica Pods Scale Up", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "d78ba449-7285-4fde-8fa6-cc1eb836c467-attachment.html", "type": "text/html"}], "start": 1772100695761, "stop": 1772100695930}, {"name": "BuiltIn.Should Be Equal", "status": "failed", "statusDetails": {"message": "False != True"}, "attachments": [{"name": "Keyword Log", "source": "c20f276a-73dd-4546-9a4f-10857626d44e-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${replicas_status}"}, {"name": "arg2", "value": "${True}"}], "start": 1772100695930, "stop": 1772100695931}], "start": 1772100695760, "stop": 1772100695932}, {"name": "lib.Wait Replica Pods In Up State", "status": "failed", "statusDetails": {"message": "False != True"}, "steps": [{"name": "pgsLibrary.Wait Replica Pods Scale Up", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "4f24f6b6-e720-4981-881e-6709928308ea-attachment.html", "type": "text/html"}], "start": 1772100697932, "stop": 1772100697964}, {"name": "BuiltIn.Should Be Equal", "status": "failed", "statusDetails": {"message": "False != True"}, "attachments": [{"name": "Keyword Log", "source": "cb432414-1689-4a48-8641-4d438dd9f8e5-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${replicas_status}"}, {"name": "arg2", "value": "${True}"}], "start": 1772100697965, "stop": 1772100697965}], "start": 1772100697932, "stop": 1772100697966}, {"name": "lib.Wait Replica Pods In Up State", "status": "failed", "statusDetails": {"message": "False != True"}, "steps": [{"name": "pgsLibrary.Wait Replica Pods Scale Up", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "ba17dc92-3d07-45a1-8bfa-40ecc9e68536-attachment.html", "type": "text/html"}], "start": 1772100699967, "stop": 1772100700026}, {"name": "BuiltIn.Should Be Equal", "status": "failed", "statusDetails": {"message": "False != True"}, "attachments": [{"name": "Keyword Log", "source": "eee1a069-852b-4d28-a1ec-f1c106ca3be9-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${replicas_status}"}, {"name": "arg2", "value": "${True}"}], "start": 1772100700026, "stop": 1772100700027}], "start": 1772100699966, "stop": 1772100700027}, {"name": "lib.Wait Replica Pods In Up State", "status": "failed", "statusDetails": {"message": "False != True"}, "steps": [{"name": "pgsLibrary.Wait Replica Pods Scale Up", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "7b59ed10-38af-46e2-bae7-577590d646d2-attachment.html", "type": "text/html"}], "start": 1772100702028, "stop": 1772100702062}, {"name": "BuiltIn.Should Be Equal", "status": "failed", "statusDetails": {"message": "False != True"}, "attachments": [{"name": "Keyword Log", "source": "f1df9e83-fc57-4454-86ad-a588b761bfea-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${replicas_status}"}, {"name": "arg2", "value": "${True}"}], "start": 1772100702062, "stop": 1772100702063}], "start": 1772100702028, "stop": 1772100702063}, {"name": "lib.Wait Replica Pods In Up State", "status": "failed", "statusDetails": {"message": "False != True"}, "steps": [{"name": "pgsLibrary.Wait Replica Pods Scale Up", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "4c644c3f-dd90-4922-b2c5-49ecea77aff9-attachment.html", "type": "text/html"}], "start": 1772100704064, "stop": 1772100704127}, {"name": "BuiltIn.Should Be Equal", "status": "failed", "statusDetails": {"message": "False != True"}, "attachments": [{"name": "Keyword Log", "source": "80a7a13f-9ed7-4482-a864-eb553dd3d789-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${replicas_status}"}, {"name": "arg2", "value": "${True}"}], "start": 1772100704127, "stop": 1772100704129}], "start": 1772100704064, "stop": 1772100704130}, {"name": "lib.Wait Replica Pods In Up State", "status": "failed", "statusDetails": {"message": "False != True"}, "steps": [{"name": "pgsLibrary.Wait Replica Pods Scale Up", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "9dfec011-cd38-42ce-a099-6bb1ce810fa9-attachment.html", "type": "text/html"}], "start": 1772100706131, "stop": 1772100706225}, {"name": "BuiltIn.Should Be Equal", "status": "failed", "statusDetails": {"message": "False != True"}, "attachments": [{"name": "Keyword Log", "source": "95f07ea9-02b5-46fd-bfa5-c188c8430afa-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${replicas_status}"}, {"name": "arg2", "value": "${True}"}], "start": 1772100706225, "stop": 1772100706226}], "start": 1772100706130, "stop": 1772100706226}, {"name": "lib.Wait Replica Pods In Up State", "status": "passed", "statusDetails": {}, "steps": [{"name": "pgsLibrary.Wait Replica Pods Scale Up", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "c0789c1e-f056-4b2f-8403-549be685ccec-attachment.html", "type": "text/html"}], "start": 1772100708227, "stop": 1772100708326}, {"name": "BuiltIn.Should Be Equal", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${replicas_status}"}, {"name": "arg2", "value": "${True}"}], "start": 1772100708327, "stop": 1772100708328}], "start": 1772100708227, "stop": 1772100708329}], "parameters": [{"name": "arg1", "value": "120 sec"}, {"name": "arg2", "value": "2 sec"}, {"name": "arg3", "value": "Wait Replica Pods In Up State"}], "start": 1772100689439, "stop": 1772100708329}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test New Master Works"}], "start": 1772100708329, "stop": 1772100708330}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Insert Test Record", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "72269451-fcba-4381-8c04-2d65613523b3-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100708331, "stop": 1772100708331}, {"name": "String.Generate Random String", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "44766603-2e72-498f-9e5e-3c7cd8ad2e73-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "32"}], "start": 1772100708332, "stop": 1772100708332}, {"name": "BuiltIn.Evaluate", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "80fec7b6-a0f9-4df1-897f-7b2c47e25b93-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "1000 * int(time.time()) + random.randint(1,9999)"}, {"name": "arg2", "value": "random,time"}], "start": 1772100708333, "stop": 1772100708333}, {"name": "BuiltIn.Set Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "6ece6d76-81a3-49ca-ac58-19b1b41abbda-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${RID}, '${RSTRING}'"}], "start": 1772100708334, "stop": 1772100708334}, {"name": "BuiltIn.Log", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "93bbed45-48bf-41d5-b9b3-84fb6dd32778-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "random values ${RID} ${RSTRING}"}], "start": 1772100708335, "stop": 1772100708335}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "47f07668-6408-4a0d-8c5d-ca721bf10085-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "create table IF NOT EXISTS test_insert_robot (id bigint primary key not null, value text not null)"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100708335, "stop": 1772100708342}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "798a4b03-484d-4973-9900-ed71b1150c2e-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "insert into test_insert_robot values (${RID}, '${RSTRING}')"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100708342, "stop": 1772100708378}, {"name": "BuiltIn.Run Keyword If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${res} != None"}, {"name": "arg2", "value": "Fail"}, {"name": "arg3", "value": "msg=[insert test record] error in insert : ${res}"}], "start": 1772100708378, "stop": 1772100708378}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "8bc69f83-8659-4a69-bb83-a525fc96f3cf-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100708378, "stop": 1772100708385}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${EXPECTED}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=[insert test record] Expected string ${EXPECTED} not found on ${MASTERHOST} : res: ${res}"}], "start": 1772100708385, "stop": 1772100708386}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test records found on ${MASTERHOST}"}], "start": 1772100708386, "stop": 1772100708423}, {"status": "passed", "statusDetails": {}, "start": 1772100708423, "stop": 1772100708423}], "parameters": [{"name": "arg1", "value": "${NEW_MASTER.status.pod_ip}"}], "start": 1772100708330, "stop": 1772100708423}], "parameters": [{"name": "arg1", "value": "${120}"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "Insert Test Record"}, {"name": "arg4", "value": "${NEW_MASTER.status.pod_ip}"}], "start": 1772100708330, "stop": 1772100708423}, {"name": "BuiltIn.Run Keyword", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Check Replica Count", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "bd1f68aa-0567-460a-8866-9501d84eb162-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_NODE_QTY"}, {"name": "arg2", "value": "default=1"}], "start": 1772100708424, "stop": 1772100708425}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "e5678a5b-a346-47a9-857d-f35a5e7534fd-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100708425, "stop": 1772100708425}, {"name": "BuiltIn.Convert To Integer", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "a75c7c9b-2d70-4bdc-86f0-f08ea7c76aea-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pg_node_qty}"}], "start": 1772100708426, "stop": 1772100708426}, {"name": "pgsLibrary.Get Pods", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "5cc5b390-74a0-464a-b73b-8d7e684a41b1-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgcluster:${pg_cluster_name}"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100708427, "stop": 1772100708623}, {"name": "BuiltIn.Get Length", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "23bfbb4b-85d6-4e00-b11e-3bc2a452782e-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pods}"}], "start": 1772100708623, "stop": 1772100708624}, {"name": "BuiltIn.Should Be Equal", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${count}"}, {"name": "arg2", "value": "${pg_node_qty}"}], "start": 1772100708624, "stop": 1772100708625}], "start": 1772100708424, "stop": 1772100708625}], "parameters": [{"name": "arg1", "value": "Check Replica Count"}], "start": 1772100708424, "stop": 1772100708625}, {"name": "BuiltIn.Run Keyword", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Replication Works", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "-== Check if replication works ==-"}], "start": 1772100708626, "stop": 1772100708626}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "340d8283-4763-4506-ba65-a7b35b55f68b-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100708626, "stop": 1772100708627}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "2d68dc83-9053-4df2-98da-a238c23cbf8d-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100708627, "stop": 1772100708628}, {"name": "lib.Insert Test Record", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "fcf842b7-8339-4ccb-984a-f1fb083406d7-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100708629, "stop": 1772100708629}, {"name": "String.Generate Random String", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "76e69a66-d61e-4b4f-8b1c-fef6bdb8506d-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "32"}], "start": 1772100708630, "stop": 1772100708630}, {"name": "BuiltIn.Evaluate", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "a50f4531-559a-401f-b3f6-553bfbe6cf3f-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "1000 * int(time.time()) + random.randint(1,9999)"}, {"name": "arg2", "value": "random,time"}], "start": 1772100708630, "stop": 1772100708631}, {"name": "BuiltIn.Set Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "b780460f-157c-493d-8e41-b6bb56d76c35-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${RID}, '${RSTRING}'"}], "start": 1772100708632, "stop": 1772100708633}, {"name": "BuiltIn.Log", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "ce95085d-3db7-4075-a2f6-2e4fd104587b-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "random values ${RID} ${RSTRING}"}], "start": 1772100708633, "stop": 1772100708634}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "3c1ee39f-bd0c-499f-a2ac-5ea767ef5797-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "create table IF NOT EXISTS test_insert_robot (id bigint primary key not null, value text not null)"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100708634, "stop": 1772100708641}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "9240f205-3c74-422d-8de3-cf5dc0e606a8-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "insert into test_insert_robot values (${RID}, '${RSTRING}')"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100708641, "stop": 1772100708723}, {"name": "BuiltIn.Run Keyword If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${res} != None"}, {"name": "arg2", "value": "Fail"}, {"name": "arg3", "value": "msg=[insert test record] error in insert : ${res}"}], "start": 1772100708724, "stop": 1772100708724}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "47c7b28f-9af5-4d6d-bfb0-bf2c54e5a78c-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100708724, "stop": 1772100708731}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${EXPECTED}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=[insert test record] Expected string ${EXPECTED} not found on ${MASTERHOST} : res: ${res}"}], "start": 1772100708732, "stop": 1772100708735}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test records found on ${MASTERHOST}"}], "start": 1772100708736, "stop": 1772100708739}, {"status": "passed", "statusDetails": {}, "start": 1772100708739, "stop": 1772100708740}], "attachments": [{"name": "Keyword Log", "source": "e1456bbb-8800-4cfd-9c04-ea03866de4a6-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTER}"}], "start": 1772100708628, "stop": 1772100708740}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Insterted test recordes with ID=${RID} (${EXPECTED})"}], "start": 1772100708741, "stop": 1772100708742}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "search test recordes on replicas"}], "start": 1772100708742, "stop": 1772100708742}, {"name": "pgsLibrary.Get Pods Names Ip", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "1fa3638e-0749-4c9e-a69c-516c2f38a2d4-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgcluster:${pg_cluster_name}"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100708743, "stop": 1772100708835}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Pods and ip &{REPLICAS}"}], "start": 1772100708835, "stop": 1772100708835}, {"name": "${key}    IN    @{REPLICAS.keys()}", "status": "passed", "statusDetails": {}, "steps": [{"name": "${key} = pg-patroni-node1-0", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Finding test records in ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100708837, "stop": 1772100708838}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Wait Query", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Wait ${expected} in ${pod_name}"}], "start": 1772100708840, "stop": 1772100708840}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "b65bd406-b1a7-4a21-9ab2-153730726642-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pod_ip}"}, {"name": "arg2", "value": "${query}"}], "start": 1772100708841, "stop": 1772100708850}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${expected}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=Expected string not found in pod ${pod_name} IP:${pod_ip} output: ${res}"}], "start": 1772100708850, "stop": 1772100708926}], "parameters": [{"name": "arg1", "value": "${key}"}, {"name": "arg2", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg3", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg4", "value": "${EXPECTED}"}], "start": 1772100708839, "stop": 1772100708927}], "parameters": [{"name": "arg1", "value": "${120}"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "wait query"}, {"name": "arg4", "value": "${key}"}, {"name": "arg5", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg6", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg7", "value": "${EXPECTED}"}], "start": 1772100708838, "stop": 1772100708927}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test record found on ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100708927, "stop": 1772100708928}], "start": 1772100708837, "stop": 1772100708928}, {"name": "${key} = pg-patroni-node2-0", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Finding test records in ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100708929, "stop": 1772100708930}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Wait Query", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Wait ${expected} in ${pod_name}"}], "start": 1772100708933, "stop": 1772100708933}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "b6a980af-ec71-4664-ba80-6e76ed0cecec-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pod_ip}"}, {"name": "arg2", "value": "${query}"}], "start": 1772100708934, "stop": 1772100708943}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${expected}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=Expected string not found in pod ${pod_name} IP:${pod_ip} output: ${res}"}], "start": 1772100708943, "stop": 1772100708944}], "parameters": [{"name": "arg1", "value": "${key}"}, {"name": "arg2", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg3", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg4", "value": "${EXPECTED}"}], "start": 1772100708932, "stop": 1772100708944}], "parameters": [{"name": "arg1", "value": "${120}"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "wait query"}, {"name": "arg4", "value": "${key}"}, {"name": "arg5", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg6", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg7", "value": "${EXPECTED}"}], "start": 1772100708930, "stop": 1772100708945}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test record found on ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100708945, "stop": 1772100708946}], "start": 1772100708929, "stop": 1772100708946}], "start": 1772100708836, "stop": 1772100708947}], "start": 1772100708626, "stop": 1772100708947}], "parameters": [{"name": "arg1", "value": "Replication Works"}], "start": 1772100708626, "stop": 1772100708947}], "start": 1772100685824, "stop": 1772100708948, "uuid": "ba1921d3-0023-4d76-bd67-7dc92fb48966", "historyId": "798d5eee2bcb8815619118169d4e3592", "fullName": "Tests.Check Delete Master.Check Delete Master.Check Delete Master", "labels": [{"name": "parentSuite", "value": "Tests"}, {"name": "suite", "value": "Check Delete Master"}, {"name": "subSuite", "value": "Check Delete Master"}, {"name": "framework", "value": "robotframework"}, {"name": "language", "value": "cpython3"}, {"name": "host", "value": "integration-robot-tests"}, {"name": "thread", "value": "default-f59f37f7-e895-4e1a-a7e0-ed640c05c73c"}, {"name": "tag", "value": "check_delete_master"}, {"name": "tag", "value": "patroni full"}], "titlePath": ["Tests", "Check Delete Master", "Check Delete Master"]}