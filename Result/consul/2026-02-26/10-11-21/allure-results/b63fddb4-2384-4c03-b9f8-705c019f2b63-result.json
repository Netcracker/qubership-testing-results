{"name": "Manual Switchover Via Patroni REST", "status": "passed", "statusDetails": {}, "steps": [{"name": "Given Patroni Cluster Is Healthy", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "4d677243-48e8-4d90-ba40-57b88b7e23d7-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_NODE_QTY"}, {"name": "arg2", "value": "default=1"}], "start": 1772100715336, "stop": 1772100715336}, {"name": "BuiltIn.Convert To Integer", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "c7239ccd-2c86-4848-b41d-dd01a1967276-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pg_node_qty}"}], "start": 1772100715337, "stop": 1772100715337}, {"name": "BuiltIn.Pass Execution If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "'${pg_node_qty}'<'2'"}, {"name": "arg2", "value": "Log To Console skip test because pg_node_qty ${pg_node_qty}"}], "start": 1772100715337, "stop": 1772100715338}, {"name": "lib.Checks Before Tests", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Check master exists", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\\n---== Check master exists ==---"}], "start": 1772100715339, "stop": 1772100715339}, {"name": "pgsLibrary.Get Pod", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "44372138-6a5e-47f7-b9b1-3e0242061db1-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgtype:master"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100715340, "stop": 1772100715536}, {"name": "BuiltIn.Should Not Be Empty", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "486f72bf-531e-4086-b7ba-9942ee76817a-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTER.metadata.name}"}], "start": 1772100715536, "stop": 1772100715537}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Master pod: \"${MASTER.metadata.name}\""}], "start": 1772100715538, "stop": 1772100715539}], "start": 1772100715339, "stop": 1772100715539}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "f676f26e-10ab-4526-aced-24947e0e9c54-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100715539, "stop": 1772100715540}, {"name": "lib.Check Replica Count", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "4db043b7-c5e2-47c0-b874-7a0e71cc0dc0-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_NODE_QTY"}, {"name": "arg2", "value": "default=1"}], "start": 1772100715541, "stop": 1772100715542}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "697e201b-fd34-46f6-8eaa-367591cf5dd8-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100715542, "stop": 1772100715543}, {"name": "BuiltIn.Convert To Integer", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "d0616ea0-b64a-454a-a8d1-4a43a730d545-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pg_node_qty}"}], "start": 1772100715543, "stop": 1772100715543}, {"name": "pgsLibrary.Get Pods", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "2e019cc0-642b-4bb2-b769-e4c0fe6e2082-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgcluster:${pg_cluster_name}"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100715544, "stop": 1772100715819}, {"name": "BuiltIn.Get Length", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "00879897-e325-43fc-a74f-870d15949d79-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pods}"}], "start": 1772100715819, "stop": 1772100715820}, {"name": "BuiltIn.Should Be Equal", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${count}"}, {"name": "arg2", "value": "${pg_node_qty}"}], "start": 1772100715820, "stop": 1772100715823}], "start": 1772100715540, "stop": 1772100715823}, {"name": "lib.Replication Works", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "-== Check if replication works ==-"}], "start": 1772100715824, "stop": 1772100715824}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "205460db-9486-4139-93f0-f72302efff19-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100715824, "stop": 1772100715825}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "44eacd73-2490-4897-80b2-e7f4a0bb55fd-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100715825, "stop": 1772100715826}, {"name": "lib.Insert Test Record", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "b8b64c04-fa19-4ef9-8770-a6707fe2f02a-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100715827, "stop": 1772100715827}, {"name": "String.Generate Random String", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "fc8c0ed2-5641-4c15-aae9-cfe60b626f6e-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "32"}], "start": 1772100715828, "stop": 1772100715828}, {"name": "BuiltIn.Evaluate", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "5646618d-4d7a-425c-9f05-5ee955764a84-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "1000 * int(time.time()) + random.randint(1,9999)"}, {"name": "arg2", "value": "random,time"}], "start": 1772100715828, "stop": 1772100715829}, {"name": "BuiltIn.Set Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "3d1bf69c-8668-4b5b-b685-9999f1b76185-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${RID}, '${RSTRING}'"}], "start": 1772100715830, "stop": 1772100715830}, {"name": "BuiltIn.Log", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "9ad0a0d2-f88e-4faa-8f33-fa229490da0d-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "random values ${RID} ${RSTRING}"}], "start": 1772100715830, "stop": 1772100715912}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "02537935-c947-4838-aebc-0f6336c63276-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "create table IF NOT EXISTS test_insert_robot (id bigint primary key not null, value text not null)"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100715913, "stop": 1772100715923}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "d7291cee-2e11-409e-bb48-a9e51523c82d-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "insert into test_insert_robot values (${RID}, '${RSTRING}')"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100715923, "stop": 1772100715931}, {"name": "BuiltIn.Run Keyword If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${res} != None"}, {"name": "arg2", "value": "Fail"}, {"name": "arg3", "value": "msg=[insert test record] error in insert : ${res}"}], "start": 1772100715931, "stop": 1772100715932}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "c21c96ca-62cc-427d-b77a-31bc08c86adf-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100715932, "stop": 1772100715938}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${EXPECTED}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=[insert test record] Expected string ${EXPECTED} not found on ${MASTERHOST} : res: ${res}"}], "start": 1772100715938, "stop": 1772100715939}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test records found on ${MASTERHOST}"}], "start": 1772100715939, "stop": 1772100715940}, {"status": "passed", "statusDetails": {}, "start": 1772100715940, "stop": 1772100715940}], "attachments": [{"name": "Keyword Log", "source": "73ba5afd-ab57-4e45-97cb-d894b18f91e6-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTER}"}], "start": 1772100715826, "stop": 1772100715940}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Insterted test recordes with ID=${RID} (${EXPECTED})"}], "start": 1772100715941, "stop": 1772100715941}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "search test recordes on replicas"}], "start": 1772100715941, "stop": 1772100715942}, {"name": "pgsLibrary.Get Pods Names Ip", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "c06deb7d-70d6-4593-825d-965281c307bd-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgcluster:${pg_cluster_name}"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100715942, "stop": 1772100716114}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Pods and ip &{REPLICAS}"}], "start": 1772100716115, "stop": 1772100716115}, {"name": "${key}    IN    @{REPLICAS.keys()}", "status": "passed", "statusDetails": {}, "steps": [{"name": "${key} = pg-patroni-node1-0", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Finding test records in ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100716117, "stop": 1772100716117}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Wait Query", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Wait ${expected} in ${pod_name}"}], "start": 1772100716120, "stop": 1772100716120}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "95f59e4e-04e9-482e-8013-bd00293e8abb-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pod_ip}"}, {"name": "arg2", "value": "${query}"}], "start": 1772100716120, "stop": 1772100716126}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${expected}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=Expected string not found in pod ${pod_name} IP:${pod_ip} output: ${res}"}], "start": 1772100716126, "stop": 1772100716127}], "parameters": [{"name": "arg1", "value": "${key}"}, {"name": "arg2", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg3", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg4", "value": "${EXPECTED}"}], "start": 1772100716119, "stop": 1772100716127}], "parameters": [{"name": "arg1", "value": "${120}"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "wait query"}, {"name": "arg4", "value": "${key}"}, {"name": "arg5", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg6", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg7", "value": "${EXPECTED}"}], "start": 1772100716118, "stop": 1772100716127}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test record found on ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100716127, "stop": 1772100716128}], "start": 1772100716116, "stop": 1772100716129}, {"name": "${key} = pg-patroni-node2-0", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Finding test records in ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100716129, "stop": 1772100716129}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Wait Query", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Wait ${expected} in ${pod_name}"}], "start": 1772100716131, "stop": 1772100716131}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "4472d245-31f9-4cda-8da7-6a0ab9894585-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pod_ip}"}, {"name": "arg2", "value": "${query}"}], "start": 1772100716131, "stop": 1772100716137}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${expected}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=Expected string not found in pod ${pod_name} IP:${pod_ip} output: ${res}"}], "start": 1772100716138, "stop": 1772100716138}], "parameters": [{"name": "arg1", "value": "${key}"}, {"name": "arg2", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg3", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg4", "value": "${EXPECTED}"}], "start": 1772100716130, "stop": 1772100716138}], "parameters": [{"name": "arg1", "value": "${120}"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "wait query"}, {"name": "arg4", "value": "${key}"}, {"name": "arg5", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg6", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg7", "value": "${EXPECTED}"}], "start": 1772100716130, "stop": 1772100716139}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test record found on ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100716139, "stop": 1772100716140}], "start": 1772100716129, "stop": 1772100716140}], "start": 1772100716116, "stop": 1772100716140}], "start": 1772100715823, "stop": 1772100716140}], "start": 1772100715338, "stop": 1772100716140}], "start": 1772100715335, "stop": 1772100716140}, {"name": "When Manual Switchover Via Patroni REST Is Called", "status": "passed", "statusDetails": {}, "steps": [{"name": "pgsLibrary.Make Switchover Via Patroni Rest", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "de19f59e-6751-4377-b0ad-6a02bbe66e6a-attachment.html", "type": "text/html"}], "start": 1772100716141, "stop": 1772100728427}], "start": 1772100716141, "stop": 1772100728427}, {"name": "Then Patroni Cluster Is Healthy", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "5fe2219c-d79a-4b97-aa3e-c53e648a46dd-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_NODE_QTY"}, {"name": "arg2", "value": "default=1"}], "start": 1772100728428, "stop": 1772100728429}, {"name": "BuiltIn.Convert To Integer", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "51429840-aa38-4bb6-9baa-af7be60ce6f3-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pg_node_qty}"}], "start": 1772100728429, "stop": 1772100728430}, {"name": "BuiltIn.Pass Execution If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "'${pg_node_qty}'<'2'"}, {"name": "arg2", "value": "Log To Console skip test because pg_node_qty ${pg_node_qty}"}], "start": 1772100728430, "stop": 1772100728430}, {"name": "lib.Checks Before Tests", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Check master exists", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\\n---== Check master exists ==---"}], "start": 1772100728432, "stop": 1772100728432}, {"name": "pgsLibrary.Get Pod", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "1545a8d2-0cf3-46ea-a4f0-697dc0e1fc82-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgtype:master"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100728432, "stop": 1772100728612}, {"name": "BuiltIn.Should Not Be Empty", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "3c5ba485-7d8c-494d-b707-5aad28dcb3a4-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTER.metadata.name}"}], "start": 1772100728612, "stop": 1772100728613}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Master pod: \"${MASTER.metadata.name}\""}], "start": 1772100728613, "stop": 1772100728614}], "start": 1772100728431, "stop": 1772100728614}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "ca958467-1da1-4f8c-85cd-32cc5a216a47-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100728614, "stop": 1772100728614}, {"name": "lib.Check Replica Count", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "c9f13e97-6eba-49c4-9a20-a26347ef960a-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_NODE_QTY"}, {"name": "arg2", "value": "default=1"}], "start": 1772100728615, "stop": 1772100728615}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "755992ab-d09b-44dd-8b6e-194ddd963ec8-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100728615, "stop": 1772100728616}, {"name": "BuiltIn.Convert To Integer", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "a31ac1a1-3d0d-4395-a53b-b1ac7725e2b1-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pg_node_qty}"}], "start": 1772100728616, "stop": 1772100728616}, {"name": "pgsLibrary.Get Pods", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "d14ec375-e0c6-445a-a8b2-f3890e697e4d-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgcluster:${pg_cluster_name}"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100728616, "stop": 1772100728840}, {"name": "BuiltIn.Get Length", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "36b84dfa-40a1-4178-8f3f-9c258dda0be3-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pods}"}], "start": 1772100728841, "stop": 1772100728842}, {"name": "BuiltIn.Should Be Equal", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${count}"}, {"name": "arg2", "value": "${pg_node_qty}"}], "start": 1772100728842, "stop": 1772100728842}], "start": 1772100728615, "stop": 1772100728843}, {"name": "lib.Replication Works", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "-== Check if replication works ==-"}], "start": 1772100728843, "stop": 1772100728844}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "39920245-60ba-4cc2-bcd6-2e8ebc20855b-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100728844, "stop": 1772100728844}, {"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "4e4521dc-59bf-4029-bd1f-10b0a73500ee-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_CLUSTER_NAME"}, {"name": "arg2", "value": "default=patroni"}], "start": 1772100728845, "stop": 1772100728845}, {"name": "lib.Insert Test Record", "status": "passed", "statusDetails": {}, "steps": [{"name": "OperatingSystem.Get Environment Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "740d7e39-b1bd-4822-8ced-9572d66c9688-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "PG_HOST"}, {"name": "arg2", "value": "default=pg-patroni"}], "start": 1772100728846, "stop": 1772100728911}, {"name": "String.Generate Random String", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "aa7bdbd3-90f6-419e-9b10-4f4607c34366-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "32"}], "start": 1772100728912, "stop": 1772100728912}, {"name": "BuiltIn.Evaluate", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "09d07363-4707-4596-b6c6-96185bc6e958-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "1000 * int(time.time()) + random.randint(1,9999)"}, {"name": "arg2", "value": "random,time"}], "start": 1772100728912, "stop": 1772100728913}, {"name": "BuiltIn.Set Variable", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "63899d15-6610-41bb-87d9-c88970476893-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${RID}, '${RSTRING}'"}], "start": 1772100728913, "stop": 1772100728914}, {"name": "BuiltIn.Log", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "9133585b-f3da-4455-86e3-44585361b3b4-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "random values ${RID} ${RSTRING}"}], "start": 1772100728914, "stop": 1772100728914}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "23fe9c41-5230-4203-a258-a1840546177b-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "create table IF NOT EXISTS test_insert_robot (id bigint primary key not null, value text not null)"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100728914, "stop": 1772100728926}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "6bc84caa-67e8-43a3-b327-01ad97668939-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "insert into test_insert_robot values (${RID}, '${RSTRING}')"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100728926, "stop": 1772100728963}, {"name": "BuiltIn.Run Keyword If", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "${res} != None"}, {"name": "arg2", "value": "Fail"}, {"name": "arg3", "value": "msg=[insert test record] error in insert : ${res}"}], "start": 1772100728963, "stop": 1772100728963}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "e70f0cce-f860-4f36-905b-7afb992f87db-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTERHOST}"}, {"name": "arg2", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg3", "value": "dbname=${database}"}], "start": 1772100728964, "stop": 1772100728983}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${EXPECTED}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=[insert test record] Expected string ${EXPECTED} not found on ${MASTERHOST} : res: ${res}"}], "start": 1772100728983, "stop": 1772100728984}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test records found on ${MASTERHOST}"}], "start": 1772100728984, "stop": 1772100728985}, {"status": "passed", "statusDetails": {}, "start": 1772100728985, "stop": 1772100728985}], "attachments": [{"name": "Keyword Log", "source": "752eadc6-311b-49e8-ad5a-8daa74d67e4c-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${MASTER}"}], "start": 1772100728846, "stop": 1772100728986}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Insterted test recordes with ID=${RID} (${EXPECTED})"}], "start": 1772100728986, "stop": 1772100729011}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "search test recordes on replicas"}], "start": 1772100729012, "stop": 1772100729012}, {"name": "pgsLibrary.Get Pods Names Ip", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "bfc12737-5cf9-428d-932f-4c717d9793dd-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "label=pgcluster:${pg_cluster_name}"}, {"name": "arg2", "value": "status=Running"}], "start": 1772100729012, "stop": 1772100729111}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Pods and ip &{REPLICAS}"}], "start": 1772100729112, "stop": 1772100729113}, {"name": "${key}    IN    @{REPLICAS.keys()}", "status": "passed", "statusDetails": {}, "steps": [{"name": "${key} = pg-patroni-node1-0", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Finding test records in ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100729114, "stop": 1772100729123}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Wait Query", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Wait ${expected} in ${pod_name}"}], "start": 1772100729124, "stop": 1772100729125}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "aa0fc6bf-2455-439a-9860-9a293dceb065-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pod_ip}"}, {"name": "arg2", "value": "${query}"}], "start": 1772100729125, "stop": 1772100729129}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${expected}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=Expected string not found in pod ${pod_name} IP:${pod_ip} output: ${res}"}], "start": 1772100729129, "stop": 1772100729130}], "parameters": [{"name": "arg1", "value": "${key}"}, {"name": "arg2", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg3", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg4", "value": "${EXPECTED}"}], "start": 1772100729123, "stop": 1772100729130}], "parameters": [{"name": "arg1", "value": "${120}"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "wait query"}, {"name": "arg4", "value": "${key}"}, {"name": "arg5", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg6", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg7", "value": "${EXPECTED}"}], "start": 1772100729123, "stop": 1772100729130}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test record found on ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100729130, "stop": 1772100729131}], "start": 1772100729114, "stop": 1772100729132}, {"name": "${key} = pg-patroni-node2-0", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Finding test records in ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100729132, "stop": 1772100729133}, {"name": "BuiltIn.Wait Until Keyword Succeeds", "status": "passed", "statusDetails": {}, "steps": [{"name": "lib.Wait Query", "status": "passed", "statusDetails": {}, "steps": [{"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Wait ${expected} in ${pod_name}"}], "start": 1772100729134, "stop": 1772100729134}, {"name": "pgsLibrary.Execute Query", "status": "passed", "statusDetails": {}, "attachments": [{"name": "Keyword Log", "source": "74574d78-ffcf-49dc-940b-3f72e1a7abe3-attachment.html", "type": "text/html"}], "parameters": [{"name": "arg1", "value": "${pod_ip}"}, {"name": "arg2", "value": "${query}"}], "start": 1772100729135, "stop": 1772100729142}, {"name": "BuiltIn.Should Be True", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "\"\"\"${expected}\"\"\" in \"\"\"${res}\"\"\""}, {"name": "arg2", "value": "msg=Expected string not found in pod ${pod_name} IP:${pod_ip} output: ${res}"}], "start": 1772100729143, "stop": 1772100729143}], "parameters": [{"name": "arg1", "value": "${key}"}, {"name": "arg2", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg3", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg4", "value": "${EXPECTED}"}], "start": 1772100729133, "stop": 1772100729143}], "parameters": [{"name": "arg1", "value": "${120}"}, {"name": "arg2", "value": "1 sec"}, {"name": "arg3", "value": "wait query"}, {"name": "arg4", "value": "${key}"}, {"name": "arg5", "value": "${REPLICAS[\"${key}\"]}"}, {"name": "arg6", "value": "select * from test_insert_robot where id=${RID}"}, {"name": "arg7", "value": "${EXPECTED}"}], "start": 1772100729133, "stop": 1772100729144}, {"name": "BuiltIn.Log To Console", "status": "passed", "statusDetails": {}, "parameters": [{"name": "arg1", "value": "Test record found on ${key} IP ${REPLICAS[\"${key}\"]}"}], "start": 1772100729144, "stop": 1772100729146}], "start": 1772100729132, "stop": 1772100729146}], "start": 1772100729113, "stop": 1772100729146}], "start": 1772100728843, "stop": 1772100729146}], "start": 1772100728431, "stop": 1772100729147}], "start": 1772100728428, "stop": 1772100729147}], "start": 1772100715335, "stop": 1772100729147, "uuid": "99f378d4-cce8-47b1-bf05-8e88c265203a", "historyId": "ab05426605d12f9475fa672825b89308", "fullName": "Tests.Check Manual Switchover.Check Manual Switchover.Manual Switchover Via Patroni REST", "labels": [{"name": "parentSuite", "value": "Tests"}, {"name": "suite", "value": "Check Manual Switchover"}, {"name": "subSuite", "value": "Check Manual Switchover"}, {"name": "framework", "value": "robotframework"}, {"name": "language", "value": "cpython3"}, {"name": "host", "value": "integration-robot-tests"}, {"name": "thread", "value": "default-f59f37f7-e895-4e1a-a7e0-ed640c05c73c"}, {"name": "tag", "value": "check_manual_switchover"}, {"name": "tag", "value": "patroni full"}], "titlePath": ["Tests", "Check Manual Switchover", "Check Manual Switchover"]}